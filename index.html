<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
<title>OmniService TG â€” Services professionnels Ã  LomÃ©</title>
<meta name="description" content="OmniService TG â€” Alimentation, livraison, nettoyage, restauration et plus Ã  LomÃ©, Togo."/>
<meta name="theme-color" content="#1E6FBE"/>
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="default"/>
<meta name="apple-mobile-web-app-title" content="OmniService TG"/>
<link rel="manifest" href="manifest.json"/>
<link rel="icon" href="assets/logo.png" type="image/png"/>
<link rel="apple-touch-icon" href="assets/logo.png"/>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@700;800;900&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="style.css"/>
</head>
<body>

<!-- â•â• SPLASH â•â• -->
<div id="splash-screen">
  <div class="splash-bg"></div>
  <div class="splash-content">
    <div class="splash-logo-wrap">
      <div class="splash-logo-ring"></div>
      <div class="splash-logo-box">
        <img src="assets/logo.png" alt="OmniService TG"
             onerror="this.outerHTML='<div class=splash-fallback>ğŸ›¡ï¸</div>'"/>
      </div>
    </div>
    <div class="splash-brand">
      <span class="splash-blue">Omni</span><span class="splash-ora">Service</span> <span class="splash-blue">TG</span>
    </div>
    <div class="splash-tagline">Appelez, on s'en charge</div>
    <div class="splash-loader"><div class="splash-loader-bar"></div></div>
    <div class="splash-footer">ğŸ‡¹ğŸ‡¬ BasÃ© Ã  LomÃ©, Togo</div>
  </div>
</div>

<!-- â•â• PWA BANNER â•â• -->
<div id="pwa-banner" style="display:none">
  <div class="pwa-inner">
    <div class="pwa-logo"><img src="assets/logo.png" alt="" onerror="this.outerHTML='ğŸ›¡ï¸'"/></div>
    <div class="pwa-text">
      <div class="pwa-title">Installer l'application</div>
      <div class="pwa-sub">AccÃ©dez rapidement Ã  OmniService TG</div>
    </div>
    <button class="pwa-btn" id="pwa-install-btn">Installer</button>
    <button class="pwa-close" onclick="dismissPWA()">âœ•</button>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODAL AUTH â€” Connexion / Inscription
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="modal-ov" id="modal-auth" style="display:none">
  <div class="modal-box auth-modal">
    <button class="modal-x" onclick="closeModal('modal-auth')">âœ•</button>

    <!-- Logo -->
    <div class="auth-logo">
      <img src="assets/logo.png" alt="" onerror="this.parentElement.innerHTML='ğŸ›¡ï¸'"/>
    </div>
    <div class="auth-brand">
      <span style="color:var(--blue)">Omni</span><span style="color:var(--ora)">Service</span> <span style="color:var(--dark)">TG</span>
    </div>

    <!-- Onglets -->
    <div class="auth-tabs">
      <button class="auth-tab on" id="auth-tab-login"    onclick="switchAuthTab('login')">Se connecter</button>
      <button class="auth-tab"    id="auth-tab-register" onclick="switchAuthTab('register')">CrÃ©er un compte</button>
    </div>

    <!-- â”€â”€ PANNEAU CONNEXION â”€â”€ -->
    <div id="auth-panel-login">
      <div class="auth-err" id="auth-err-login" style="display:none"></div>
      <label class="f-label">Email</label>
      <input type="email" class="f-input" id="login-email" placeholder="votre@email.com" autocomplete="email"/>
      <label class="f-label">Mot de passe</label>
      <input type="password" class="f-input" id="login-pass" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="current-password"/>
      <button class="auth-main-btn" id="login-btn" onclick="doLogin()">Se connecter â†’</button>
      <button class="auth-link-btn" onclick="showResetPanel()">Mot de passe oubliÃ© ?</button>
    </div>

    <!-- â”€â”€ PANNEAU INSCRIPTION â”€â”€ -->
    <div id="auth-panel-register" style="display:none">
      <div class="auth-err" id="auth-err-register" style="display:none"></div>

      <div class="f-row-2">
        <div>
          <label class="f-label">PrÃ©nom *</label>
          <input type="text" class="f-input" id="reg-prenom" placeholder="Ex : Koffi" autocomplete="given-name"/>
        </div>
        <div>
          <label class="f-label">Nom *</label>
          <input type="text" class="f-input" id="reg-nom" placeholder="Ex : Mensah" autocomplete="family-name"/>
        </div>
      </div>

      <!-- Genre avec avatars visuels -->
      <label class="f-label">Genre *</label>
      <div class="genre-choice">
        <label class="genre-opt" id="genre-opt-homme">
          <input type="radio" name="reg-genre-radio" value="homme"
                 onchange="document.getElementById('reg-genre').value='homme';selectGenre('homme')"/>
          <span class="genre-av" style="background:linear-gradient(135deg,#1E6FBE,#155A9C)">ğŸ‘¨</span>
          <span class="genre-lbl">Homme</span>
        </label>
        <label class="genre-opt" id="genre-opt-femme">
          <input type="radio" name="reg-genre-radio" value="femme"
                 onchange="document.getElementById('reg-genre').value='femme';selectGenre('femme')"/>
          <span class="genre-av" style="background:linear-gradient(135deg,#E91E8C,#AD1457)">ğŸ‘©</span>
          <span class="genre-lbl">Femme</span>
        </label>
      </div>
      <input type="hidden" id="reg-genre"/>

      <label class="f-label">TÃ©lÃ©phone *</label>
      <div class="phone-wrap">
        <span class="phone-pfx">ğŸ“±</span>
        <input type="tel" class="f-input" id="reg-phone" placeholder="+228 90 00 00 00" autocomplete="tel"/>
      </div>

      <label class="f-label">Ville de rÃ©sidence *</label>
      <input type="text" class="f-input" id="reg-ville" placeholder="Ex : LomÃ©, KpalimÃ©, AtakpamÃ©..."/>

      <label class="f-label">Email *</label>
      <input type="email" class="f-input" id="reg-email" placeholder="votre@email.com" autocomplete="email"/>

      <div class="f-row-2">
        <div>
          <label class="f-label">Mot de passe *</label>
          <input type="password" class="f-input" id="reg-pass" placeholder="6 car. min." autocomplete="new-password"/>
        </div>
        <div>
          <label class="f-label">Confirmer *</label>
          <input type="password" class="f-input" id="reg-pass2" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="new-password"/>
        </div>
      </div>

      <button class="auth-main-btn" id="reg-btn" onclick="doRegister()">CrÃ©er mon compte â†’</button>
      <div class="auth-cgv">En crÃ©ant un compte, vous acceptez nos conditions d'utilisation.</div>
    </div>

    <!-- â”€â”€ PANNEAU RESET â”€â”€ -->
    <div id="auth-panel-reset" style="display:none">
      <div class="auth-err" id="auth-err-reset" style="display:none"></div>
      <div class="reset-info">Entrez votre email pour recevoir un lien de rÃ©initialisation.</div>
      <label class="f-label">Email</label>
      <input type="email" class="f-input" id="reset-email" placeholder="votre@email.com"/>
      <button class="auth-main-btn" onclick="doResetPassword()">Envoyer le lien â†’</button>
      <button class="auth-link-btn" onclick="switchAuthTab('login')">â† Retour Ã  la connexion</button>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MODAL Ã‰DITION PROFIL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="modal-ov" id="modal-edit-profile" style="display:none">
  <div class="modal-box">
    <button class="modal-x" onclick="closeModal('modal-edit-profile')">âœ•</button>
    <div class="modal-title">âœï¸ Modifier mon profil</div>

    <div class="f-row-2">
      <div>
        <label class="f-label">PrÃ©nom</label>
        <input type="text" class="f-input" id="edit-prenom"/>
      </div>
      <div>
        <label class="f-label">Nom</label>
        <input type="text" class="f-input" id="edit-nom"/>
      </div>
    </div>

    <label class="f-label">Genre</label>
    <div class="genre-choice">
      <label class="genre-opt" id="edit-genre-opt-homme">
        <input type="radio" name="edit-genre-radio" value="homme"
               onchange="document.getElementById('edit-genre').value='homme';selectEditGenre('homme')"/>
        <span class="genre-av" style="background:linear-gradient(135deg,#1E6FBE,#155A9C)">ğŸ‘¨</span>
        <span class="genre-lbl">Homme</span>
      </label>
      <label class="genre-opt" id="edit-genre-opt-femme">
        <input type="radio" name="edit-genre-radio" value="femme"
               onchange="document.getElementById('edit-genre').value='femme';selectEditGenre('femme')"/>
        <span class="genre-av" style="background:linear-gradient(135deg,#E91E8C,#AD1457)">ğŸ‘©</span>
        <span class="genre-lbl">Femme</span>
      </label>
    </div>
    <input type="hidden" id="edit-genre"/>

    <label class="f-label">TÃ©lÃ©phone</label>
    <div class="phone-wrap">
      <span class="phone-pfx">ğŸ“±</span>
      <input type="tel" class="f-input" id="edit-phone"/>
    </div>

    <label class="f-label">Ville de rÃ©sidence</label>
    <input type="text" class="f-input" id="edit-ville"/>

    <button class="auth-main-btn" id="edit-save-btn" onclick="saveEditProfile()">Enregistrer</button>
  </div>
</div>

<!-- â•â• TOP NAV â•â• -->
<header class="topnav">
  <div class="topnav-inner">
    <div class="topnav-row1">
      <div class="logo-area">
        <div class="logo-box">
          <img src="assets/logo.png" alt="OmniService TG" onerror="this.parentElement.innerHTML='ğŸ›¡ï¸'"/>
        </div>
        <div>
          <div class="brand-name">
            <span class="brand-blue">Omni</span><span class="brand-ora">Service</span> <span class="brand-blue">TG</span>
          </div>
          <div class="brand-sub">Appelez, on s'en charge</div>
        </div>
        <nav class="nav-links">
          <button class="nav-link on"  id="nl-home"     onclick="goTab('home')">ğŸ  Accueil</button>
          <button class="nav-link"     id="nl-services" onclick="goTab('services')">ğŸ› ï¸ Services</button>
          <button class="nav-link"     id="nl-orders"   onclick="goTab('orders')">ğŸ“¦ Commandes</button>
          <button class="nav-link"     id="nl-about"    onclick="goTab('about')">â„¹ï¸ Ã€ propos</button>
        </nav>
      </div>
      <div class="nav-right">
        <button class="nav-btn cart-btn" onclick="goTab('orders')" title="Mes commandes">
          ğŸ›’<span class="cart-badge" id="cart-count" style="display:none">0</span>
        </button>
        <!-- Avatar dynamique gÃ©rÃ© par JS -->
        <button class="nav-btn nav-av-btn" id="nav-profile-btn"
                onclick="currentUser ? goTab('profile') : openAuthModal('login')"
                title="Mon profil">
          <div style="font-size:20px">ğŸ‘¤</div>
        </button>
      </div>
    </div>
    <div class="search-wrap">
      <span class="search-ico">ğŸ”</span>
      <input type="text" placeholder="Rechercher un service..." id="search-input" oninput="filterServices(this.value)"/>
    </div>
  </div>
</header>

<div class="app-body">

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       PAGE : ACCUEIL
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="page on" id="p-home">
    <div class="marquee-wrap">
      <div class="mtrack">
        <span class="mtext">âœ” Professionnalisme &nbsp;âœ” FiabilitÃ© &nbsp;âœ” Excellence &nbsp;âœ” Respect &nbsp;â€” &nbsp;<b>OmniService TG</b> &nbsp;â€” Simplifiez votre quotidien ! &nbsp;&nbsp;&nbsp;</span>
        <span class="mtext">âœ” Professionnalisme &nbsp;âœ” FiabilitÃ© &nbsp;âœ” Excellence &nbsp;âœ” Respect &nbsp;â€” &nbsp;<b>OmniService TG</b> &nbsp;â€” Simplifiez votre quotidien ! &nbsp;&nbsp;&nbsp;</span>
      </div>
    </div>

    <!-- Hero Slider -->
    <div class="slide-wrap">
      <div class="slider" id="hero-slider">
        <div class="slide on" style="background:linear-gradient(135deg,#1E6FBE,#155A9C)">
          <div class="slide-overlay"></div>
          <div class="slide-content">
            <div class="slide-emoji">ğŸš€</div>
            <div class="slide-title">Livraison Express</div>
            <div class="slide-sub">Vos courses livrÃ©es rapidement Ã  LomÃ©</div>
          </div>
          <button class="slide-cta" onclick="openService('delivery')">Commander â†’</button>
        </div>
        <div class="slide" style="background:linear-gradient(135deg,#F5820A,#D96E00)">
          <div class="slide-overlay"></div>
          <div class="slide-content">
            <div class="slide-emoji">âœ¨</div>
            <div class="slide-title">Nettoyage Professionnel</div>
            <div class="slide-sub">Votre maison mÃ©rite le meilleur</div>
          </div>
          <button class="slide-cta" onclick="openService('cleaning')">RÃ©server â†’</button>
        </div>
        <div class="slide" style="background:linear-gradient(135deg,#1E6FBE,#F5820A)">
          <div class="slide-overlay"></div>
          <div class="slide-content">
            <div class="slide-emoji">ğŸ¥˜</div>
            <div class="slide-title">Alimentation FraÃ®che</div>
            <div class="slide-sub">Tilapia, volailles, lÃ©gumes livrÃ©s chez vous</div>
          </div>
          <button class="slide-cta" onclick="openService('food')">Commander â†’</button>
        </div>
        <div class="slide" style="background:linear-gradient(135deg,#155A9C,#1E6FBE)">
          <div class="slide-overlay"></div>
          <div class="slide-content">
            <div class="slide-emoji">ğŸ½ï¸</div>
            <div class="slide-title">Service Traiteur</div>
            <div class="slide-sub">Plats restaurants et traiteur Ã©vÃ©nementiel</div>
          </div>
          <button class="slide-cta" onclick="openService('restaurant')">DÃ©couvrir â†’</button>
        </div>
        <div class="dots" id="slider-dots">
          <button class="dot on" onclick="goSlide(0)"></button>
          <button class="dot"    onclick="goSlide(1)"></button>
          <button class="dot"    onclick="goSlide(2)"></button>
          <button class="dot"    onclick="goSlide(3)"></button>
        </div>
      </div>
    </div>

    <!-- Services rapides -->
    <div class="sec">
      <div class="sec-head">
        <div><div class="sec-title">Services disponibles</div><div class="sec-sub">Choisissez ce dont vous avez besoin</div></div>
        <button class="see-all" onclick="goTab('services')">Tous â€º</button>
      </div>
      <div class="svc-grid">
        <button class="svc-btn" onclick="openService('food')"><div class="svc-ico" style="background:#FFF3E0">ğŸ¥˜</div><span class="svc-lbl">Alimentation</span></button>
        <button class="svc-btn" onclick="openService('restaurant')"><div class="svc-ico" style="background:#E3F2FD">ğŸ½ï¸</div><span class="svc-lbl">Restauration</span></button>
        <button class="svc-btn" onclick="openService('delivery')"><div class="svc-ico" style="background:#FFF3E0">ğŸšš</div><span class="svc-lbl">Livraison</span></button>
        <button class="svc-btn" onclick="openService('cleaning')"><div class="svc-ico" style="background:#E3F2FD">ğŸ§¹</div><span class="svc-lbl">Nettoyage</span></button>
        <button class="svc-btn" onclick="openService('clothes')"><div class="svc-ico" style="background:#FFF3E0">ğŸ‘—</div><span class="svc-lbl">PrÃªt-Ã -porter</span></button>
        <button class="svc-btn" onclick="openService('maintenance')"><span class="svc-soon">16 Mars</span><div class="svc-ico" style="background:#E3F2FD">ğŸ”§</div><span class="svc-lbl">Maintenance</span></button>
        <button class="svc-btn" onclick="openService('security')"><span class="svc-soon">7 Avr</span><div class="svc-ico" style="background:#E3F2FD">ğŸ›¡ï¸</div><span class="svc-lbl">Gardiennage</span></button>
      </div>
    </div>

    <!-- Pourquoi nous -->
    <div class="sec">
      <div class="sec-title" style="margin-bottom:14px">Pourquoi nous choisir ?</div>
      <div class="why-grid">
        <div class="why-card"><div class="why-ico" style="background:#E3F2FD">ğŸ›¡ï¸</div><div><div class="why-title">Organisation structurÃ©e</div><div class="why-desc">Chaque intervention planifiÃ©e et encadrÃ©e.</div></div></div>
        <div class="why-card"><div class="why-ico" style="background:#FFF3E0">â­</div><div><div class="why-title">Ã‰quipe identifiable</div><div class="why-desc">Personnel formÃ©, professionnel et fiable.</div></div></div>
        <div class="why-card"><div class="why-ico" style="background:#E3F2FD">âš¡</div><div><div class="why-title">Service moderne</div><div class="why-desc">Communication claire et suivi efficace.</div></div></div>
        <div class="why-card"><div class="why-ico" style="background:#FFF3E0">ğŸ•</div><div><div class="why-title">Engagement qualitÃ©</div><div class="why-desc">DÃ©lais et standards toujours respectÃ©s.</div></div></div>
      </div>
    </div>

    <!-- CTA -->
    <div class="sec">
      <div class="cta-banner">
        <div class="cta-title">PrÃªt Ã  travailler avec des professionnels ?</div>
        <div class="cta-sub">Contactez OmniService TG et dÃ©couvrez une nouvelle maniÃ¨re de gÃ©rer vos services au quotidien.</div>
        <div class="cta-btns">
          <a href="tel:+22872652222" class="cta-btn">ğŸ“ Nous appeler</a>
          <a href="https://wa.me/22872652222" class="cta-btn cta-wa">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="white"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
            WhatsApp
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       PAGE : SERVICES
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="page" id="p-services">

    <!-- VUE 1 : Liste -->
    <div id="view-list">
      <div class="sec" style="padding-top:20px">
        <div class="sec-title">Nos Services</div>
        <div class="sec-sub" style="margin-bottom:16px">Une solution intÃ©grÃ©e pour tous vos besoins</div>
        <div class="svc-list">
          <button class="svc-row" onclick="openService('food')"><div class="svc-row-ico" style="background:#FFF3E0">ğŸ¥˜</div><div style="flex:1"><div class="svc-row-name">Alimentation &amp; Produits locaux</div><div class="svc-row-desc">Kits alimentaires, produits frais (Tilapia, Volailles, LÃ©gumes), NÃ©rÃ©, Vin de palme.</div></div><span class="svc-arr">â€º</span></button>
          <button class="svc-row" onclick="openService('restaurant')"><div class="svc-row-ico" style="background:#E3F2FD">ğŸ½ï¸</div><div style="flex:1"><div class="svc-row-name">Restauration</div><div class="svc-row-desc">Plats de restaurants partenaires, service traiteur pour vos Ã©vÃ©nements.</div></div><span class="svc-arr">â€º</span></button>
          <button class="svc-row" onclick="openService('delivery')"><div class="svc-row-ico" style="background:#FFF3E0">ğŸšš</div><div style="flex:1"><div class="svc-row-name">Livraison &amp; Courses</div><div class="svc-row-desc">Livraison express, courses personnalisÃ©es, livraison entreprise et de plats.</div></div><span class="svc-arr">â€º</span></button>
          <button class="svc-row" onclick="openService('maintenance')"><div class="svc-row-ico" style="background:#E3F2FD">ğŸ”§</div><div style="flex:1"><div class="svc-row-name">Maintenance Technique <span class="tag-soon">16 Mars</span></div><div class="svc-row-desc">Ã‰lectricitÃ©, plomberie, voiture, Ã©lectromÃ©nager, informatique, pose TV/antenne.</div></div><span class="svc-arr">â€º</span></button>
          <button class="svc-row" onclick="openService('clothes')"><div class="svc-row-ico" style="background:#FFF3E0">ğŸ‘—</div><div style="flex:1"><div class="svc-row-name">PrÃªt-Ã -porter</div><div class="svc-row-desc">VÃªtements homme/femme/enfant, sacs, chaussures, cosmÃ©tiques et accessoires.</div></div><span class="svc-arr">â€º</span></button>
          <button class="svc-row" onclick="openService('cleaning')"><div class="svc-row-ico" style="background:#E3F2FD">ğŸ§¹</div><div style="flex:1"><div class="svc-row-name">Entretien &amp; Nettoyage</div><div class="svc-row-desc">Nettoyage rÃ©sidentiel, bureaux, entretien rÃ©gulier et industriel.</div></div><span class="svc-arr">â€º</span></button>
          <button class="svc-row" onclick="openService('security')"><div class="svc-row-ico" style="background:#E3F2FD">ğŸ›¡ï¸</div><div style="flex:1"><div class="svc-row-name">Gardiennage &amp; SÃ©curitÃ© <span class="tag-soon">7 Avril</span></div><div class="svc-row-desc">Gardiennage rÃ©sidentiel/boutique/bureau, sÃ©curitÃ© Ã©vÃ©nementielle.</div></div><span class="svc-arr">â€º</span></button>
        </div>
      </div>
    </div>

    <!-- VUE 2 : Catalogue -->
    <div id="view-catalogue" style="display:none">
      <div class="cat-hdr">
        <button class="back-btn" onclick="showView('list')">â†</button>
        <div id="cat-ico" style="width:38px;height:38px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0"></div>
        <div><div id="cat-title" style="font-size:14px;font-weight:700;color:#1A1A2E"></div><div style="font-size:11px;color:#9999BB">SÃ©lectionnez vos articles</div></div>
      </div>
      <div id="catalogue-items" class="catalogue-grid"></div>
      <div class="cart-bar" id="cart-bar" style="display:none" onclick="showDeliveryView()">
        <div class="cart-bar-left">
          <span class="cart-bar-count" id="cb-count">0 article</span>
          <span class="cart-bar-text">Continuer vers la livraison â†’</span>
        </div>
        <span class="cart-bar-total" id="cb-total">0 FCFA</span>
      </div>
    </div>

    <!-- VUE 3 : Formulaire standard -->
    <div id="view-form" style="display:none">
      <div class="cat-hdr">
        <button class="back-btn" onclick="showView('list')">â†</button>
        <div id="form-ico" style="width:38px;height:38px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0"></div>
        <div><div id="form-title" style="font-size:14px;font-weight:700;color:#1A1A2E"></div><div style="font-size:11px;color:#9999BB">Formulaire de demande</div></div>
      </div>
      <div id="form-soon" style="display:none" class="warn-box">
        <div style="font-weight:700;font-size:13px;margin-bottom:3px">â³ BientÃ´t disponible</div>
        <div style="font-size:12px;opacity:.92" id="form-soon-date"></div>
      </div>

      <!-- RÃ©cap client -->
      <div class="client-recap-card" id="client-recap"></div>

      <div class="order-card">
        <div id="form-fields"></div>
        <button class="btn-primary" id="form-submit-btn" onclick="submitStandardForm()">ğŸ“¨ Envoyer ma demande</button>
      </div>
    </div>

    <!-- VUE 4 : Livraison -->
    <div id="view-delivery" style="display:none">
      <div class="cat-hdr">
        <button class="back-btn" onclick="showView('catalogue')">â†</button>
        <div style="font-size:22px">ğŸ“</div>
        <div><div style="font-size:14px;font-weight:700;color:#1A1A2E">Informations de livraison</div><div style="font-size:11px;color:#9999BB">Ã‰tape 1 sur 2</div></div>
      </div>
      <div class="step-bar">
        <div class="step active"><div class="step-num">1</div><span>Livraison</span></div>
        <div class="step-line"></div>
        <div class="step"><div class="step-num">2</div><span>Paiement</span></div>
      </div>

      <!-- RÃ©cap client livraison -->
      <div class="client-recap-card" id="client-recap-del"></div>

      <div class="order-card">
        <div class="order-card-title">ğŸ“ Votre position</div>
        <div class="loc-toggle">
          <button class="loc-btn on" id="loc-btn-gps"  onclick="setLocMode('gps')">ğŸ“¡ Localisation GPS</button>
          <button class="loc-btn"    id="loc-btn-desc" onclick="setLocMode('desc')">âœï¸ Par description</button>
        </div>
        <div id="loc-gps-panel">
          <button class="btn-secondary" id="gps-btn" onclick="getGPS()">ğŸ“¡ Obtenir ma position</button>
          <div id="gps-result" style="margin-top:10px;font-size:12px;color:#4A4A6A;display:none"></div>
        </div>
        <div id="loc-desc-panel" style="display:none">
          <label class="f-label">Description de votre position</label>
          <textarea class="f-textarea" id="del-desc" rows="3" placeholder="Ex : Quartier AdidogomÃ©, derriÃ¨re le marchÃ©, maison bleue avec portail noir..."></textarea>
        </div>
      </div>
      <div class="order-card">
        <div class="order-card-title">ğŸ  Adresse de livraison</div>
        <label class="f-label">Rue / quartier / repÃ¨re</label>
        <input type="text" class="f-input" id="del-address" placeholder="Ex : AdidogomÃ©, rue des Cocotiers"/>
        <label class="f-label">Notes supplÃ©mentaires (optionnel)</label>
        <textarea class="f-textarea" id="del-notes" rows="2" placeholder="Ã‰tage, couleur de la maison..."></textarea>
      </div>
      <button class="btn-primary" onclick="goToPayment()">Continuer â†’ Paiement</button>
    </div>

    <!-- VUE 5 : Paiement -->
    <div id="view-payment" style="display:none">
      <div class="cat-hdr">
        <button class="back-btn" onclick="showView('delivery')">â†</button>
        <div style="font-size:22px">ğŸ’³</div>
        <div><div style="font-size:14px;font-weight:700;color:#1A1A2E">Confirmation &amp; Paiement</div><div style="font-size:11px;color:#9999BB">Ã‰tape 2 sur 2</div></div>
      </div>
      <div class="step-bar">
        <div class="step done"><div class="step-num">âœ“</div><span>Livraison</span></div>
        <div class="step-line done"></div>
        <div class="step active"><div class="step-num">2</div><span>Paiement</span></div>
      </div>
      <div class="order-card">
        <div class="order-card-title">ğŸ›’ Votre commande</div>
        <div id="recap-items"></div>
        <div class="recap-total">
          <span class="recap-total-label">Total</span>
          <span class="recap-total-val" id="recap-total-val">0 FCFA</span>
        </div>
      </div>
      <div class="order-card" style="padding:0;overflow:hidden">
        <div style="padding:16px 18px 12px;font-size:15px;font-weight:700;color:#1A1A2E">ğŸ’³ Mode de paiement</div>
        <button class="pay-opt" id="pay-mixx" onclick="selectPay('mixx')">
          <div class="pay-ico" style="background:#E8F5E9">ğŸ’š</div>
          <div><div class="pay-name">Mixx By Yas</div><div class="pay-sub">Paiement mobile sÃ©curisÃ©</div></div>
          <span class="pay-soon">BientÃ´t</span><div class="pay-radio"></div>
        </button>
        <button class="pay-opt" id="pay-flooz" onclick="selectPay('flooz')">
          <div class="pay-ico" style="background:#FFF3E0">ğŸ§¡</div>
          <div><div class="pay-name">Flooz</div><div class="pay-sub">Paiement mobile Moov</div></div>
          <span class="pay-soon">BientÃ´t</span><div class="pay-radio"></div>
        </button>
        <button class="pay-opt selected" id="pay-livraison" onclick="selectPay('livraison')">
          <div class="pay-ico" style="background:#F3E5F5">ğŸ </div>
          <div><div class="pay-name">Payer Ã  la livraison</div><div class="pay-sub">EspÃ¨ces ou mobile Ã  la rÃ©ception</div></div>
          <div class="pay-radio"></div>
        </button>
      </div>
      <button class="btn-primary" id="confirm-btn" onclick="confirmOrder()">âœ… Confirmer la commande</button>
    </div>

    <!-- VUE 6 : SuccÃ¨s -->
    <div id="view-success" style="display:none">
      <div class="success">
        <div class="succ-emoji">âœ…</div>
        <div class="succ-title">Commande confirmÃ©e !</div>
        <div class="succ-desc" id="succ-msg"></div>
        <button class="btn-primary" style="max-width:300px;margin:0 auto" onclick="goTab('orders')">ğŸ“¦ Voir mes commandes</button>
        <button class="btn-secondary" style="max-width:300px;margin:12px auto 0" onclick="showView('list')">â† Retour aux services</button>
      </div>
    </div>

  </div><!-- /services -->

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       PAGE : MES COMMANDES
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="page" id="p-orders">
    <div class="orders-page">
      <div class="orders-hdr">
        <div class="sec-title">Mes Commandes</div>
        <div class="sec-sub">Suivez vos demandes en temps rÃ©el</div>
        <button class="orders-refresh" onclick="loadMyOrders()" title="Actualiser">ğŸ”„</button>
      </div>
      <div id="orders-out">
        <!-- Rempli dynamiquement selon l'Ã©tat d'authentification -->
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       PAGE : Ã€ PROPOS
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="page" id="p-about">
    <div style="padding-top:20px">
      <div class="about-hero">
        <div class="about-logo"><img src="assets/logo.png" alt="OmniService TG" onerror="this.parentElement.innerHTML='<div style=font-size:50px>ğŸ›¡ï¸</div>'"/></div>
        <div class="about-name"><span class="brand-blue">Omni</span><span class="brand-ora">Service</span> <span class="brand-blue">TG</span></div>
        <div style="font-size:12px;color:var(--light);margin-top:4px">Appelez, on s'en charge</div>
        <div style="font-size:12px;color:var(--mid);font-weight:600;margin-top:6px">LancÃ© par Assistance Global</div>
        <div class="about-flag">ğŸ‡¹ğŸ‡¬ Entreprise togolaise</div>
      </div>
      <div class="a-card" style="background:linear-gradient(135deg,rgba(30,111,190,.03),rgba(245,130,10,.03));border:1px solid rgba(30,111,190,.1)">
        <div class="a-card-title">ğŸš€ Notre Vision</div>
        <p>Construire un Togo oÃ¹ chaque foyer accÃ¨de Ã  des services fiables, modernes et dignes des standards internationaux. OmniService TG vise Ã  devenir une <strong style="color:var(--blue)">rÃ©fÃ©rence nationale</strong> dans le secteur des services professionnels.</p>
      </div>
      <div class="a-card">
        <div class="a-card-title">ğŸ¯ Notre Mission</div>
        <p>Offrir aux mÃ©nages et entreprises togolais des services multisectoriels professionnels, accessibles et structurÃ©s, qui simplifient leur quotidien et valorisent leur cadre de vie.</p>
      </div>
      <div class="sec-title" style="margin-bottom:12px">Nos Valeurs</div>
      <div class="val-row"><div class="val-ico">ğŸ¯</div><div><div class="val-name">Professionnalisme</div><div class="val-desc">Standards Ã©levÃ©s Ã  chaque intervention.</div></div></div>
      <div class="val-row"><div class="val-ico">ğŸ”’</div><div><div class="val-name">FiabilitÃ©</div><div class="val-desc">Vous pouvez compter sur nous.</div></div></div>
      <div class="val-row"><div class="val-ico">ğŸ¤</div><div><div class="val-name">Respect</div><div class="val-desc">De nos clients, Ã©quipes et partenaires.</div></div></div>
      <div class="val-row"><div class="val-ico">ğŸ”</div><div><div class="val-name">Transparence</div><div class="val-desc">Tarifs clairs, pas de surprises.</div></div></div>
      <div class="val-row" style="margin-bottom:18px"><div class="val-ico">â­</div><div><div class="val-name">Excellence</div><div class="val-desc">Toujours le meilleur rÃ©sultat.</div></div></div>
      <div class="who-grid">
        <div class="who-card"><div style="font-size:30px;margin-bottom:9px">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</div><div style="font-size:13px;font-weight:700;color:var(--dark);margin-bottom:5px">Particuliers</div><div style="font-size:11px;color:var(--light);line-height:1.5">Familles et propriÃ©taires cherchant un service organisÃ©.</div></div>
        <div class="who-card"><div style="font-size:30px;margin-bottom:9px">ğŸ¢</div><div style="font-size:13px;font-weight:700;color:var(--dark);margin-bottom:5px">Entreprises</div><div style="font-size:11px;color:var(--light);line-height:1.5">Bureaux, commerces, sociÃ©tÃ©s en croissance.</div></div>
      </div>
      <div class="a-card">
        <div class="a-card-title">ğŸ“ Contact</div>
        <div class="ct-row"><div class="ct-ico">ğŸ“</div><span style="font-size:13px;color:var(--mid)">BasÃ© Ã  LomÃ©, Togo</span></div>
        <div class="ct-row"><div class="ct-ico">ğŸ“</div><a href="tel:+22872652222" style="font-size:13px;color:var(--blue);font-weight:600;text-decoration:none">+228 72 65 22 22</a></div>
        <div class="ct-row"><div class="ct-ico">ğŸ“§</div><a href="mailto:contact@omniservicetg.com" style="font-size:13px;color:var(--blue);font-weight:600;text-decoration:none">contact@omniservicetg.com</a></div>
        <div class="ct-row"><div class="ct-ico">ğŸŒ</div><span style="font-size:13px;color:var(--mid)">www.omniservicetg.com</span></div>
      </div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       PAGE : PROFIL  (rendu par JS)
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="page" id="p-profile"></div>

</div><!-- /app-body -->

<!-- Toast -->
<div class="toast" id="toast"></div>

<!-- Bottom Nav -->
<nav class="botnav">
  <button class="btab on" id="t-home"     onclick="goTab('home')">    <div class="btab-ico">ğŸ </div><span class="btab-lbl">Accueil</span></button>
  <button class="btab"    id="t-services" onclick="goTab('services')"><div class="btab-ico">ğŸ› ï¸</div><span class="btab-lbl">Services</span></button>
  <button class="btab"    id="t-orders"   onclick="goTab('orders')">  <div class="btab-ico">ğŸ“¦</div><span class="btab-lbl">Commandes</span></button>
  <button class="btab"    id="t-about"    onclick="goTab('about')">   <div class="btab-ico">â„¹ï¸</div><span class="btab-lbl">Ã€ propos</span></button>
  <button class="btab"    id="t-profile"  onclick="goTab('profile')"> <div class="btab-ico" id="botnav-av">ğŸ‘¤</div><span class="btab-lbl">Profil</span></button>
</nav>

<!-- Inline JS pour les sÃ©lecteurs de genre -->
<script>
function selectGenre(g) {
  ['homme','femme'].forEach(x => {
    document.getElementById('genre-opt-' + x)?.classList.toggle('selected', x === g);
  });
}
function selectEditGenre(g) {
  ['homme','femme'].forEach(x => {
    document.getElementById('edit-genre-opt-' + x)?.classList.toggle('selected', x === g);
  });
}
// Ouvrir le modal edit-profile et prÃ©sÃ©lectionner le genre courant
const _origOpenEdit = window.openEditProfile;
window.openEditProfile = function() {
  if (typeof _origOpenEdit === 'function') _origOpenEdit();
  // PrÃ©sÃ©lectionner genre
  const g = document.getElementById('edit-genre')?.value;
  if (g) selectEditGenre(g);
};
</script>

<!-- Firebase app.js -->
<script type="module" src="app.js"></script>

</body>
</html>
